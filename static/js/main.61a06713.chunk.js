(this["webpackJsonpshopping-cart"]=this["webpackJsonpshopping-cart"]||[]).push([[0],{18:function(e){e.exports=JSON.parse('{"products":[{"_id":"dress1","image":"/images/dress1.jpg","title":"Dress 1","description":"about dress 1","price":19,"availableSizes":["XL","XXL"]},{"_id":"dress2","image":"/images/dress2.jpg","title":"Midi sundress with shirring detail","description":"This is for all latest trends.","price":18,"availableSizes":["X","L","XL","XXL"]},{"_id":"dress3","image":"/images/dress3.jpg","title":"Dress 3","description":"about dress 3","price":16,"availableSizes":["X","M","L"]},{"_id":"dress4","image":"/images/dress4.jpg","title":"Dress 1","description":"about dress 4","price":14,"availableSizes":["X","XL","M"]},{"_id":"dress5","image":"/images/dress5.jpg","title":"Dress 5","description":"about dress 5","price":29,"availableSizes":["XL","XXL","X"]},{"_id":"dress6","image":"/images/dress6.jpg","title":"Dress 6","description":"about dress 6","price":20,"availableSizes":["XL","XXL","M"]}]}')},48:function(e,t,s){},84:function(e,t,s){"use strict";s.r(t);var c=s(0),r=s(1),i=s.n(r),a=s(23),n=s.n(a),l=(s(48),s(24)),o=s(9),d=s(10),j=s(12),u=s(11),h=s(17),b=s(15),p=s(16);function O(e){return"$"+Number(e.toFixed(1)).toLocaleString()+" "}var m=s(14),x=s.n(m),v=s(25),g=s.n(v),f=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(e){var c;return Object(o.a)(this,s),(c=t.call(this,e)).handleInput=function(e){c.setState(Object(b.a)({},e.target.name,e.target.value))},c.createOrder=function(e){e.preventDefault();var t={name:c.state.name,email:c.state.email,address:c.state.address,cartItems:c.props.cartItems};c.props.createOrder(t)},c.state={name:"",email:"",address:"",states:[],city:[],showCheckout:!1},c.getCity=c.getCity.bind(Object(p.a)(c)),c}return Object(d.a)(s,[{key:"componentDidMount",value:function(){var e=this;g.a.post("http://cbatnode-env.eba-q2bgsjkv.us-east-1.elasticbeanstalk.com/api/state/get").then((function(t){e.setState({states:t.data.data}),console.log(e.state.states)})).catch((function(t){e.setState({error:"Url Error"})}))}},{key:"getCity",value:function(e){var t=this;g.a.post("http://cbatnode-env.eba-q2bgsjkv.us-east-1.elasticbeanstalk.com/api/city/get",{state:e.target.value}).then((function(e){t.setState({city:e.data.data}),console.log(t.state.city)})).catch((function(e){t.setState({error:"Url Error"}),console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.props.cartItems;return Object(c.jsxs)("div",{children:[0===t.length?Object(c.jsx)("div",{className:"cart cart-header",children:"Cart is empty"}):Object(c.jsxs)("div",{className:"cart cart-header",children:["You have ",t.length," items in the cart"," "]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"cart",children:Object(c.jsx)(x.a,{left:!0,cascade:!0,children:Object(c.jsx)("ul",{className:"cart-items",children:t.map((function(t){return Object(c.jsxs)("li",{children:[Object(c.jsx)("div",{children:Object(c.jsx)("img",{src:t.image,alt:t.title})}),Object(c.jsx)("div",{children:t.title}),Object(c.jsxs)("div",{className:"right",children:[O(t.price)," x ",t.count," "," ",Object(c.jsx)("button",{className:"button",onClick:function(){return e.props.removeFromCart(t)},children:"Remove"})]})]},t._id)}))})})}),0!==t.length&&Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"cart",children:Object(c.jsxs)("div",{className:"totle",children:[Object(c.jsxs)("div",{children:["Total:"," ",O(t.reduce((function(e,t){return e+t.price*t.count}),0))]}),Object(c.jsx)("button",{onClick:function(){e.setState({showCheckout:!0})},className:"button primary",children:"Proceed"})]})}),this.state.showCheckout&&Object(c.jsx)(x.a,{right:!0,cascade:!0,children:Object(c.jsx)("div",{className:"cart",children:Object(c.jsx)("form",{onSubmit:this.createOrder,children:Object(c.jsxs)("ul",{className:"form-container",children:[Object(c.jsxs)("li",{children:[Object(c.jsx)("label",{children:"Email"}),Object(c.jsx)("input",{type:"email",name:"email",required:!0,onChange:this.handleInput})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)("label",{children:"Name"}),Object(c.jsx)("input",{type:"text",name:"name",required:!0,onChange:this.handleInput})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)("label",{children:"Address"}),Object(c.jsx)("input",{type:"text",name:"address",required:!0,onChange:this.handleInput})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)("label",{children:"Select State"}),Object(c.jsx)("select",{onChange:this.getCity,children:this.state.states.map((function(e,t){return Object(c.jsx)("option",{children:e.state},t)}))})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)("label",{children:"Select City"}),Object(c.jsx)("select",{children:this.state.city.map((function(e,t){return Object(c.jsx)("option",{children:e.city},t)}))})]}),Object(c.jsx)("li",{children:Object(c.jsx)("button",{type:"submit",className:"button primary",children:"Checkout"})})]})})})})]})]})]})}}]),s}(r.Component),N=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(d.a)(s,[{key:"render",value:function(){return Object(c.jsxs)("div",{className:"filter",children:[Object(c.jsxs)("div",{className:"filter-result",children:[this.props.count," Products"]}),Object(c.jsxs)("div",{className:"filter-sort",children:["Order "," ",Object(c.jsxs)("select",{value:this.props.sort,onChange:this.props.sortProducts,children:[Object(c.jsx)("option",{children:"Latest"}),Object(c.jsx)("option",{value:"lowest",children:"Lowest"}),Object(c.jsx)("option",{value:"highest",children:"Highest"})]})]}),Object(c.jsxs)("div",{className:"filter-size",children:["Filter"," ",Object(c.jsxs)("select",{value:this.props.size,onChange:this.props.filterProducts,children:[Object(c.jsx)("option",{value:"",children:"All"}),Object(c.jsx)("option",{value:"XS",children:"XS"}),Object(c.jsx)("option",{value:"S",children:"S"}),Object(c.jsx)("option",{value:"M",children:"M"}),Object(c.jsx)("option",{value:"L",children:"L"}),Object(c.jsx)("option",{value:"XL",children:"XL"}),Object(c.jsx)("option",{value:"XXL",children:"XXL"})]})]})]})}}]),s}(r.Component),C=s(40),S=s.n(C),y=s(41),X=s.n(y),k=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(e){var c;return Object(o.a)(this,s),(c=t.call(this,e)).openModal=function(e){c.setState({product:e})},c.closeModal=function(){c.setState({product:null})},c.state={product:null},c}return Object(d.a)(s,[{key:"render",value:function(){var e=this,t=this.state.product;return Object(c.jsxs)("div",{children:[Object(c.jsx)(x.a,{bottom:!0,cascade:!0,children:Object(c.jsx)("ul",{className:"products",children:this.props.products.map((function(t){return Object(c.jsx)("li",{children:Object(c.jsxs)("div",{className:"product",children:[Object(c.jsxs)("a",{href:"#"+t._id,onClick:function(){return e.openModal(t)},children:[Object(c.jsx)("img",{src:t.image,alt:t.title}),Object(c.jsx)("p",{children:t.title})]}),Object(c.jsxs)("div",{className:"product-price",children:[Object(c.jsx)("div",{children:O(t.price)}),Object(c.jsx)("button",{className:"button primary",onClick:function(){return e.props.addToCart(t)},children:"Add To Cart"})]})]})},t._id)}))})}),t&&Object(c.jsx)(S.a,{isOpen:!0,onRequestClose:this.closeModal,children:Object(c.jsxs)(X.a,{children:[Object(c.jsx)("button",{className:"close-modal",onClick:this.closeModal,children:"x"}),Object(c.jsxs)("div",{className:"product-details",children:[Object(c.jsx)("img",{src:t.image,alt:t.title}),Object(c.jsxs)("div",{className:"product-details-description",children:[Object(c.jsx)("p",{children:Object(c.jsx)("strong",{children:t.title})}),Object(c.jsx)("p",{children:t.description}),Object(c.jsxs)("p",{children:["Available sizes:"," ",t.availableSizes.map((function(e){return Object(c.jsxs)("span",{children:[" "," ",Object(c.jsx)("button",{className:"button ",children:e})]})}))]}),Object(c.jsxs)("div",{className:"product-price",children:[Object(c.jsx)("div",{children:O(t.price)}),Object(c.jsx)("button",{className:"button primary",onClick:function(){e.props.addToCart(t),e.closeModal()},children:"Add To Cart"})]})]})]})]})})]})}}]),s}(r.Component),I=s(18),L=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(){var e;return Object(o.a)(this,s),(e=t.call(this)).createOrder=function(e){alert("Need to save for "+e.name)},e.removeFromCart=function(t){var s=e.state.cartItems.slice();e.setState({cartItems:s.filter((function(e){return e._id!==t._id}))}),localStorage.setItem("cartItems",JSON.stringify(s.filter((function(e){return e._id!==t._id}))))},e.addToCart=function(t){var s=e.state.cartItems.slice(),c=!1;s.forEach((function(e){e._id===t._id&&(e.count++,c=!0)})),c||s.push(Object(l.a)(Object(l.a)({},t),{},{count:1})),e.setState({cartItems:s}),localStorage.setItem("cartItems",JSON.stringify(s))},e.sortProducts=function(t){var s=t.target.value;console.log(t.target.value),e.setState((function(t){return{sort:s,products:e.state.products.slice().sort((function(e,t){return"lowest"===s?e.price>t.price?1:-1:"highest"===s?e.price<t.price?1:-1:e._id<t._id?1:-1}))}}))},e.filterProducts=function(t){console.log(t.target.value),""===t.target.value?e.setState({size:t.target.value,products:I.products}):e.setState({size:t.target.value,products:I.products.filter((function(e){return e.availableSizes.indexOf(t.target.value)>=0}))})},e.state={products:I.products,cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],size:"",sort:""},e}return Object(d.a)(s,[{key:"render",value:function(){return Object(c.jsxs)("div",{className:"grid-container",children:[Object(c.jsx)("header",{children:Object(c.jsx)(h.b,{to:"/",className:"header_Link",children:Object(c.jsx)("h1",{className:"logo",children:"TechnicalHari"})})}),Object(c.jsx)("main",{children:Object(c.jsxs)("div",{className:"content",children:[Object(c.jsxs)("div",{className:"main",children:[Object(c.jsx)(N,{count:this.state.products.length,size:this.state.size,sort:this.state.sort,filterProducts:this.filterProducts,sortProducts:this.sortProducts}),Object(c.jsx)(k,{products:this.state.products,addToCart:this.addToCart})]}),Object(c.jsx)("div",{className:"sidebar",children:Object(c.jsx)(f,{cartItems:this.state.cartItems,removeFromCart:this.removeFromCart,createOrder:this.createOrder})})]})})]})}}]),s}(i.a.Component),_=s(2);n.a.render(Object(c.jsx)(h.a,{children:Object(c.jsx)(_.c,{children:Object(c.jsx)(_.a,{children:Object(c.jsx)(L,{})})})}),document.getElementById("root"))}},[[84,1,2]]]);
//# sourceMappingURL=main.61a06713.chunk.js.map